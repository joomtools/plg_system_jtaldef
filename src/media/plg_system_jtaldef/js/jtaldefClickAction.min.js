var Jtaldef=window.Jtaldef||{};function plgJtaldefReady(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}!function(d){"use strict";Jtaldef.clearCache=function(){var n=d.querySelector("#jtaldefClearCache"),a=d.querySelector(".jtaldef-counter"),t=window.Joomla.getOptions("csrf.token",""),e=d.createElement("style"),s=d.createElement("span"),i=d.createElement("span"),r=d.createElement("span");e.setAttribute("type","text/css"),e.appendChild(d.createTextNode(".jtaldef-spinner {\n  display: inline-block;\n  height: 14px;\n  vertical-align: middle;\n  line-height: 18px;\n  margin-left: 4px;\n}\n.jtaldef.icon-save::before {\n  padding-left: 8px;\n}\n.jtaldef-spinner > span {\n  background-color: #fff;\n  margin-left: 2px;\n  height: 100%;\n  width: 3px;\n  display: inline-block;\n  -webkit-animation: jtaldef-sk-stretchdelay 1.2s infinite ease-in-out;\n  animation: jtaldef-sk-stretchdelay 1.2s infinite ease-in-out;\n}\n.jtaldef-spinner .rect2 {\n  -webkit-animation-delay: -1.1s;\n  animation-delay: -1.1s;\n}\n.jtaldef-spinner .rect3 {\n  -webkit-animation-delay: -1.0s;\n  animation-delay: -1.0s;\n}\n@-webkit-keyframes jtaldef-sk-stretchdelay {\n  0%, 40%, 100% { -webkit-transform: scaleY(0.4) }  \n  20% { -webkit-transform: scaleY(1.0) }\n}\n@keyframes jtaldef-sk-stretchdelay {\n  0%, 40%, 100% { \n    transform: scaleY(0.4);\n    -webkit-transform: scaleY(0.4);\n  }  20% { \n    transform: scaleY(1.0);\n    -webkit-transform: scaleY(1.0);\n  }\n}")),d.head.appendChild(e),s.setAttribute("class","jtaldef-spinner"),s.setAttribute("aria-hidden","true"),s.innerHTML='<span class="rect1"></span><span class="rect2"></span><span class="rect3"></span>',r.setAttribute("class","jtaldef icon-save"),r.setAttribute("aria-hidden","true"),i.setAttribute("class","error"),i.setAttribute("aria-hidden","true");var l=n.getAttribute("data-action");n.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault(),n.appendChild(s),n.setAttribute("disabled",!0),window.Joomla.request({url:l,headers:{"X-CSRF-Token":t},onError:function(e){},onSuccess:function(t){var e;try{t=JSON.parse(t)}catch(e){t={succsess:!0}}n.removeChild(s),!0===t.success&&(a.innerHTML="0",n.setAttribute("class","btn btn-secondary"),n.appendChild(r),e=r),!1===t.success&&(i.innerHTML='<span style="margin-left:8px;color:red;">'+t.message+"</span>",n.parentNode.appendChild(i),e=i),e!==i&&setTimeout(function(){n.removeChild(e)},4e3)}})})}}(document),plgJtaldefReady(Jtaldef.clearCache);